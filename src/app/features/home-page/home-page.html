<section class="container mx-auto p-4">
  @if(pokemonResource.loading()) {
    <div class="flex justify-center items-center py-12">
      <span class="loading loading-spinner loading-lg"></span>
    </div>
  }

  @if(pokemonResource.hasValue()) {
    <header class="hero bg-base-200 p-6 rounded-md mb-6">
      <h1 class="text-2xl font-bold">Pokémon</h1>
      <p class="opacity-70">Total registros: <strong>{{ pokemonResource.value().count }}</strong></p>
    </header>

    <section aria-label="Listado de pokemons">
      <ul class="grid gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 list-none p-0">
        @for(p of pokemonResource.value().results ?? []; track p.name) {
          <li>
            <article class="card p-4 mb-2 rounded-md border">
              <h3 class="font-semibold text-lg capitalize">{{ p.name }}</h3>
              <div class="mt-2">
                <a [routerLink]="['/pokemon', pokemonId(p.url)]" class="btn btn-sm btn-outline">Ver detalles</a>
              </div>
            </article>
          </li>
        }
      </ul>
    </section>

    <footer class="mt-6 flex items-center justify-between">
      <div>
        <button class="btn btn-secondary mr-2" (click)="prev()" [disabled]="pokemonResource.loading() || !pokemonResource.value()?.previous">Anterior</button>
        <button class="btn btn-primary" (click)="next()" [disabled]="pokemonResource.loading() || !pokemonResource.value()?.next">Siguiente</button>
      </div>

      <div class="opacity-70">Página {{ paginationService.currentPage() }} — Mostrando {{ pokemonResource.value().results.length }} items</div>
    </footer>
  }

  @if(pokemonResource.error()) {
    <div class="alert alert-error mt-4">Error: {{ pokemonResource.error() }}</div>
  }
</section>
